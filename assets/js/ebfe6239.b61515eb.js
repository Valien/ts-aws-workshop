"use strict";(self.webpackChunkts_aws_workshop=self.webpackChunkts_aws_workshop||[]).push([[841],{7629:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>r,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"tutorial-basics/acls","title":"ACL\'s!","description":"The power of Tailscale is handled through it\'s robust policy engine and powered by the ACL\'s that are fully customisable.  Let\'s dig into the ACL section and","source":"@site/docs/tutorial-basics/acls.mdx","sourceDirName":"tutorial-basics","slug":"/tutorial-basics/acls","permalink":"/ts-aws-workshop/docs/tutorial-basics/acls","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Access with Tailscale","permalink":"/ts-aws-workshop/docs/tutorial-basics/access-vm"},"next":{"title":"Cleanup","permalink":"/ts-aws-workshop/docs/tutorial-basics/cleanup"}}');var a=t(4848),o=t(8453);const i={sidebar_position:6},c="ACL's!",r={},l=[{value:"Groups",id:"groups",level:3},{value:"Tags",id:"tags",level:3},{value:"ACL&#39;s",id:"acls-1",level:3},{value:"SSH",id:"ssh",level:3},{value:"Tests",id:"tests",level:3},{value:"ACL Documentation and Examples",id:"acl-documentation-and-examples",level:2}];function d(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"acls",children:"ACL's!"})}),"\n",(0,a.jsx)(s.p,{children:"The power of Tailscale is handled through it's robust policy engine and powered by the ACL's that are fully customisable.  Let's dig into the ACL section and\ntake a look at the current ACL's."}),"\n",(0,a.jsxs)(s.p,{children:["If you haven't already, go ahead and click the ",(0,a.jsx)(s.strong,{children:"Access controls"})," tab and you should be seeing page that looks like the following:"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{alt:"VM Details",src:t(2372).A+"",width:"1139",height:"813"})}),"\n",(0,a.jsxs)(s.p,{children:["Tailscale is ",(0,a.jsx)(s.code,{children:"deny"})," by default so only traffic that is permitted is allowed to traverse the network. The default ACL's are pretty permissive because it would be bad for you to be locked out when you\nfirst launch Tailscale. But as you build out your network you will want to start to add more ACL's to segment and break up your network."]}),"\n",(0,a.jsx)(s.p,{children:"Let's take a look at some of the details here."}),"\n",(0,a.jsx)(s.admonition,{type:"info",children:(0,a.jsx)(s.p,{children:"This workshop is just scratching the surface of what you can do with ACL's. See the link at the bottom for more examples and details."})}),"\n",(0,a.jsx)(s.h3,{id:"groups",children:"Groups"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-json",children:'\t// Declare static groups of users. Use autogroups for all users or users with a specific role.\n\t "groups": {\n\t  \t"group:example": ["alice@example.com", "bob@example.com"],\n\t },\n'})}),"\n",(0,a.jsx)(s.h3,{id:"tags",children:"Tags"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-json",children:'\t// Define the tags which can be applied to devices and by which users.\n\t "tagOwners": {\n\t  \t"tag:example": ["autogroup:admin"],\n\t },\n'})}),"\n",(0,a.jsx)(s.h3,{id:"acls-1",children:"ACL's"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-json",children:'\t// Define access control lists for users, groups, autogroups, tags,\n\t// Tailscale IP addresses, and subnet ranges.\n\t"acls": [\n\t\t// Allow all connections.\n\t\t// Comment this section out if you want to define specific restrictions.\n\t\t{"action": "accept", "src": ["*"], "dst": ["*:*"]},\n\n\t\t// Allow users in "group:example" to access "tag:example", but only from\n\t\t// devices that are running macOS and have enabled Tailscale client auto-updating.\n\t\t// {"action": "accept", "src": ["group:example"], "dst": ["tag:example:*"], "srcPosture":["posture:autoUpdateMac"]},\n\t],\n'})}),"\n",(0,a.jsx)(s.h3,{id:"ssh",children:"SSH"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-json",children:'// Define users and devices that can use Tailscale SSH.\n\t"ssh": [\n\t\t// Allow all users to SSH into their own devices in check mode.\n\t\t// Comment this section out if you want to define specific restrictions.\n\t\t{\n\t\t\t"action": "check",\n\t\t\t"src":    ["autogroup:member"],\n\t\t\t"dst":    ["autogroup:self"],\n\t\t\t"users":  ["autogroup:nonroot", "root"],\n\t\t},\n\t],\n\n'})}),"\n",(0,a.jsx)(s.h3,{id:"tests",children:"Tests"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-json",children:'\t// Test access rules every time they\'re saved.\n\t "tests": [\n\t  \t{\n\t  \t\t"src": "alice@example.com",\n\t  \t\t"accept": ["tag:example"],\n\t  \t\t"deny": ["100.101.102.103:443"],\n\t  \t},\n\t ],\n'})}),"\n",(0,a.jsx)(s.h2,{id:"acl-documentation-and-examples",children:"ACL Documentation and Examples"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Read the ",(0,a.jsx)(s.a,{href:"https://docusaurus.io/",children:"official documentation"})]}),"\n",(0,a.jsxs)(s.li,{children:["Modify your site configuration with ",(0,a.jsx)(s.a,{href:"https://docusaurus.io/docs/api/docusaurus-config",children:(0,a.jsx)(s.code,{children:"docusaurus.config.js"})})]}),"\n",(0,a.jsxs)(s.li,{children:["Add navbar and footer items with ",(0,a.jsx)(s.a,{href:"https://docusaurus.io/docs/api/themes/configuration",children:(0,a.jsx)(s.code,{children:"themeConfig"})})]}),"\n",(0,a.jsxs)(s.li,{children:["Add a custom ",(0,a.jsx)(s.a,{href:"https://docusaurus.io/docs/styling-layout",children:"Design and Layout"})]}),"\n",(0,a.jsxs)(s.li,{children:["Add a ",(0,a.jsx)(s.a,{href:"https://docusaurus.io/docs/search",children:"search bar"})]}),"\n",(0,a.jsxs)(s.li,{children:["Find inspirations in the ",(0,a.jsx)(s.a,{href:"https://docusaurus.io/showcase",children:"Docusaurus showcase"})]}),"\n",(0,a.jsxs)(s.li,{children:["Get involved in the ",(0,a.jsx)(s.a,{href:"https://docusaurus.io/community/support",children:"Docusaurus Community"})]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},2372:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/tailscale-acls-1-f272a5a010c5d9483c35df8581a8e597.png"},8453:(e,s,t)=>{t.d(s,{R:()=>i,x:()=>c});var n=t(6540);const a={},o=n.createContext(a);function i(e){const s=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(o.Provider,{value:s},e.children)}}}]);