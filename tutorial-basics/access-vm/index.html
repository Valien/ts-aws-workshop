<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorial-basics/access-vm" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Access with Tailscale | Tailscale AWS Workshop</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://valien.github.io/ts-aws-workshop/tutorial-basics/access-vm"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Access with Tailscale | Tailscale AWS Workshop"><meta data-rh="true" name="description" content="Now that the VM is built and connected to your Tailnet. Let&#x27;s look at it in detail and access it via SSH!"><meta data-rh="true" property="og:description" content="Now that the VM is built and connected to your Tailnet. Let&#x27;s look at it in detail and access it via SSH!"><link data-rh="true" rel="icon" href="/ts-aws-workshop/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://valien.github.io/ts-aws-workshop/tutorial-basics/access-vm"><link data-rh="true" rel="alternate" href="https://valien.github.io/ts-aws-workshop/tutorial-basics/access-vm" hreflang="en"><link data-rh="true" rel="alternate" href="https://valien.github.io/ts-aws-workshop/tutorial-basics/access-vm" hreflang="x-default"><link rel="stylesheet" href="/ts-aws-workshop/assets/css/styles.1f5e51e0.css">
<script src="/ts-aws-workshop/assets/js/runtime~main.f958f88e.js" defer="defer"></script>
<script src="/ts-aws-workshop/assets/js/main.1434502f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/ts-aws-workshop/img/tailscale-logomark-1-no-background.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ts-aws-workshop/"><div class="navbar__logo"><img src="/ts-aws-workshop/img/tailscale-logomark-1-no-background.svg" alt="Tailscale Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ts-aws-workshop/img/tailscale-logomark-1-no-background.svg" alt="Tailscale Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Tailscale + AWS Workshop</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ts-aws-workshop/">Tutorial</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/tailscale/tailscale" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/ts-aws-workshop/">Intro to Tailscale</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/ts-aws-workshop/category/tutorial---basics">Tutorial - Basics</a><button aria-label="Collapse sidebar category &#x27;Tutorial - Basics&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-aws-workshop/tutorial-basics/login-to-tailscale">Login to Tailscale</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-aws-workshop/tutorial-basics/tour-of-tailscale">Tour of Tailscale</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-aws-workshop/tutorial-basics/creating-vm">Creating a VM in AWS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ts-aws-workshop/tutorial-basics/access-vm">Access with Tailscale</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-aws-workshop/tutorial-basics/acls">ACLs!</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ts-aws-workshop/tutorial-basics/cleanup">Cleanup</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ts-aws-workshop/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/ts-aws-workshop/category/tutorial---basics"><span itemprop="name">Tutorial - Basics</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Access with Tailscale</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Access with Tailscale</h1></header>
<p>Now that the VM is built and connected to your Tailnet. Let&#x27;s look at it in detail and access it via SSH!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="machine-details">Machine details<a href="#machine-details" class="hash-link" aria-label="Direct link to Machine details" title="Direct link to Machine details">​</a></h2>
<p>The following screenshot is typical in what you will see when you look into the details of any tailnet device.</p>
<p><img decoding="async" loading="lazy" alt="VM Details" src="/ts-aws-workshop/assets/images/vm-details-1-7a5be49a27e85ba5fd7fc6010712b7a4.png" width="1195" height="1337" class="img_ev3q"></p>
<p>Notice that the <code>Exit Node</code> has an <code>Awaiting approval</code> message? We set the flag to enable this node to be an exit node when Tailscale was installed but we still need to approve it from the admin console. This is a security feature to prevent users from purposefully adding exit nodes in a network. It requires a Tailscale <code>Admin</code> level role to
approve it as an exit node before it can be used.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="approve-exit-node">Approve Exit node<a href="#approve-exit-node" class="hash-link" aria-label="Direct link to Approve Exit node" title="Direct link to Approve Exit node">​</a></h3>
<p>Go ahead and click the <code>Edit</code> link and it will pop open a small window with some details. You&#x27;ll want to check the <code>Use as exit node</code> option and then hit <code>Save</code>.</p>
<p><img decoding="async" loading="lazy" alt="VM Details" src="/ts-aws-workshop/assets/images/vm-details-2-b1bcf7a35abd17d9242d018e6cd084ee.png" width="626" height="576" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="VM Details" src="/ts-aws-workshop/assets/images/vm-details-3-8c084ac3d8b3529d15b5266b2d96979d.png" width="509" height="466" class="img_ev3q"></p>
<p>We have one more step to do before we can use this as an Exit node. Linux devices typically do not have IP Forwarding turned on by default so we will use Tailscale SSH to SSH into this EC2 instance and enable IP Forwarding.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tailscale-ssh">Tailscale SSH<a href="#tailscale-ssh" class="hash-link" aria-label="Direct link to Tailscale SSH" title="Direct link to Tailscale SSH">​</a></h2>
<p>By setting the <code>--ssh</code> flag in our Cloud Formation template that turns on Tailscale SSH for this device. And we&#x27;ll be able to leverage
Tailscale to SSH into this VM without having to use any PKI infrastructure. Tailscale handles all the SSH key generation and expiration. Pretty cool eh?</p>
<p>You can learn more about Tailscale SSH <a href="https://tailscale.com/kb/1193/tailscale-ssh" target="_blank" rel="noopener noreferrer">here</a>.</p>
<p>If you look at your Machine details you will see that there is an SSH status tag listed.</p>
<p><img decoding="async" loading="lazy" alt="SSH Details" src="/ts-aws-workshop/assets/images/tailscale-ssh-1-7c05b51fd2bd0d4d4f3e7c55da030610.png" width="405" height="145" class="img_ev3q"></p>
<p>This means that we can SSH into this VM if we have the right ACLs set. In this case  we&#x27;ll be able to SSH because the default Tailscale ACL does allow users to SSH
into devices they own.  We&#x27;ll cover more about ACLs in the next section.</p>
<p>There are 2 ways to SSH into this VM from the Tailscale perspective:</p>
<ol>
<li>You can use the web-based SSH option</li>
</ol>
<p><img decoding="async" loading="lazy" alt="SSH Details" src="/ts-aws-workshop/assets/images/tailscale-ssh-2-5b255932748e8f7ca3d479c4c450af28.png" width="862" height="101" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="VM Details" src="/ts-aws-workshop/assets/images/vm-ssh-1-1efd5866ef71769494311c2bc36c1fc2.png" width="1143" height="218" class="img_ev3q"></p>
<ol start="2">
<li>Use your local CLI and favorite terminal SSH tool</li>
</ol>
<p>For today&#x27;s workshop, let&#x27;s stick with the web-based SSH option.</p>
<ul>
<li>
<p>Go ahead and click the <strong>SSH to machine...</strong> button. You&#x27;ll get a pop-up asking for more details.</p>
</li>
<li>
<p>You can SSH in as the <code>root</code> user or click the drop-down that shows <code>root</code> and select <code>other</code>. In the text box you can  put in <code>ubuntu</code> as the user.  This EC2 instance will let you SSH in as either <code>root</code> or the <code>ubuntu</code> user.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="SSH Details" src="/ts-aws-workshop/assets/images/tailscale-ssh-4-355c072c90f9bc734f5de7d2a7f2b31c.png" width="532" height="359" class="img_ev3q"></p>
<ul>
<li>Click <code>SSH</code> next.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Most likely, you will be prompted to re-authenticate to your identity provider. Go ahead and sign in again with the same user you are signed into the taiilnet as. This is a security
feature of Tailscale to verify a users identity before allowing them to access the device itself.</p></div></div>
<p>After a few seconds you&#x27;ll be dropped into a web-based SSH terminal!</p>
<p><img decoding="async" loading="lazy" alt="SSH Details" src="/ts-aws-workshop/assets/images/tailscale-ssh-5-da65809a065bee000a188c15411e67d6.png" width="832" height="547" class="img_ev3q"></p>
<p>All based on your IdP identity and not using any public/private keys!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="enable-ip-forwarding">Enable IP Forwarding<a href="#enable-ip-forwarding" class="hash-link" aria-label="Direct link to Enable IP Forwarding" title="Direct link to Enable IP Forwarding">​</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>The Cloud Formation template will not set the IP forwarding, so you will need to SSH into the EC2 instance to set this up before traffic will
route through it as an Exit node</p></div></div>
<p>Now that we&#x27;re on the  EC2 instance let&#x27;s setup IP forwarding. This is an Ubuntu VM so it will need the <code>conf</code> set in it&#x27;s <code>/etc/sysctl.d</code> directory.</p>
<ul>
<li>Copy the following code block:</li>
</ul>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">echo &#x27;net.ipv4.ip_forward = 1&#x27; | sudo tee -a /etc/sysctl.d/99-tailscale.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &#x27;net.ipv6.conf.all.forwarding = 1&#x27; | sudo tee -a /etc/sysctl.d/99-tailscale.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo sysctl -p /etc/sysctl.d/99-tailscale.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>In your web-terminal, paste the block and hit enter.</li>
<li>You can verify it wrote the file by running the following:</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sysctl -n net.ipv4.ip_forward net.ipv6.conf.all.forwarding</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It should return a <code>1 1</code> which verifies the values were set and are in a running process. If it returns a <code>0 0</code> then check the <code>99-tailscale.conf</code> file to make sure the entries were saved.</p>
<ul>
<li>Go ahead and exit out of the web-terminal</li>
</ul>
<p>If you want to learn more about this go check our documentation page  - <a href="https://tailscale.com/kb/1103/exit-nodes?tab=linux" target="_blank" rel="noopener noreferrer">https://tailscale.com/kb/1103/exit-nodes?tab=linux</a> and scroll down until we get to the <strong>Advertise a device as an exit node</strong> section.</p>
<p>Ok! We should be able to use this EC2 instance as an Exit node now!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-exit-node">Test exit node<a href="#test-exit-node" class="hash-link" aria-label="Direct link to Test exit node" title="Direct link to Test exit node">​</a></h2>
<p>Now that the Exit node has been approved you can access it from your desktop client:</p>
<p><img decoding="async" loading="lazy" alt="VM Details" src="/ts-aws-workshop/assets/images/exit-node-1-4a70c4c8d36ce5ea8d34b85ffc5d9f26.png" width="528" height="358" class="img_ev3q"></p>
<p>When you are successfully connected it will look like this:</p>
<p><img decoding="async" loading="lazy" alt="VM Details" src="/ts-aws-workshop/assets/images/exit-node-2-d7fb282d949c2953dc164b713abfebda.png" width="537" height="348" class="img_ev3q"></p>
<p>Notice the little arrow? That shows your device is using the Exit node for all internet traffic.</p>
<p>Now visit your favorite IP check site and verify your public IP:</p>
<ul>
<li><a href="http://www.ipchicken.com" target="_blank" rel="noopener noreferrer">www.ipchicken.com</a></li>
<li><a href="http://www.whatismyipaddress.com" target="_blank" rel="noopener noreferrer">www.whatismyipaddress.com</a></li>
</ul>
<p>You should see the Public IP address of the AWS EC2 instance that is shown in the <a href="https://login.tailscale.com/admin/machines" target="_blank" rel="noopener noreferrer">Machine</a> details page.</p>
<p>By default Tailscale operates as a split-tunnel network. So non-tailscale traffic is routed through your normal ISP but when you turn on the Exit node functionality it will operate
as a full-tunnel network and all traffic will route through that exit node.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/ts-aws-workshop/tutorial-basics/creating-vm"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Creating a VM in AWS</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ts-aws-workshop/tutorial-basics/acls"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ACLs!</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#machine-details" class="table-of-contents__link toc-highlight">Machine details</a><ul><li><a href="#approve-exit-node" class="table-of-contents__link toc-highlight">Approve Exit node</a></li></ul></li><li><a href="#tailscale-ssh" class="table-of-contents__link toc-highlight">Tailscale SSH</a></li><li><a href="#enable-ip-forwarding" class="table-of-contents__link toc-highlight">Enable IP Forwarding</a></li><li><a href="#test-exit-node" class="table-of-contents__link toc-highlight">Test exit node</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ts-aws-workshop/">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tailscale.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tailscale<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://x.com/tailscale" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/tailscale/tailscale" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Tailscale, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>